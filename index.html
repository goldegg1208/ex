<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exchange Rate</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    table {
      width: 100%;
      height: 100%;
      border: 1px solid black;
    }

    th, td {
      border: 1px solid black;
    }

    .left-content {
      width: 20%;
      padding: 20px;
      box-sizing: border-box;
      height: 100%;
    }

    .right-content {
      width: 80%;
      padding: 20px;
      box-sizing: border-box;
      height: 100%;
    }

    .exchange-box {
      margin-bottom: 20px;
    }

    .dropbtn {
      background-color: white;
      border: 1px solid #ccc;
      padding: 5px 10px;
      font-size: 16px;
    }

    .input-area {
      margin-top: 10px;
    }

    input[type="text"], input[type="number"] {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      box-sizing: border-box;
    }

    .Number {
      margin-top: 5px;
    }

    button {
      margin-top: 10px;
    }
  </style>
</head>

<body>
  <table>
    <thead>
      <tr>
        <th colspan="2">환율 계산기</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="left-content">
          <div class="page">
            <h1 class="title">Currency Exchange</h1>
            <div class="exchange-box">
              <div class="dropdown">
                <button class="dropbtn" id="from-button">
                  <img class="flag" src="https://w.namu.la/s/82e8f0ba23b7861b4ae69bcf0523076d2151136ad3591c81e8cb49e563a6c46a9faaaa519f1f60a1f581714ddcf63c8c8c22d79c9e93ba0b010ca00663baf829b7bc8efa856ec48a7118284178eb393c69c6dc5c5420946ed59abea255a7863e" width="18" height="12"> USD
                </button>
              </div>
              <div class="input-area">
                <input type="text" id="from-input" placeholder="금액 또는 '금액*수량' 입력" onkeyup="convert()">
                <div id="fromNumToKorea" class="Number">달러</div>
              </div>
            </div>
            <h1 class="simbol">=</h1>
            <div class="exchange-box">
              <div class="dropdown">
                <button class="dropbtn" id="to-button">
                  <img class="flag" src="https://w.namu.la/s/43a07e65f573eb41fffe67ac0d1008fa73b5c7a04a004ff9004ddf0680524c5c5bd8a30c724fd7966bd7d3a2f60d0bd17c3cc159dd41f704f9b6dc188a21346dcf6aed9b29d4349c28d0fe50f74fcbe2c48ee4eccfb75136d68f5cde27f4b09a" width="18" height="12"> KRW
                </button>
              </div>
              <div class="input-area">
                <input type="number" id="to-input" onkeyup="reconvert()">
                <div id="toNumToKorea" class="Number">원</div>
              </div>
            </div>
          </div>
        </td>
        <td class="right-content">
          <h2><b>해외 주식 평단가 계산기</b></h2>
          <p>기존 보유단가 <input id="stock_price" type="text"> (원/달러)</p>
          <p>기존 보유수량 <input id="stocks" type="text"> 주</p>
          <p>신규 매수단가 <input id="addprice" type="text"> (원/달러)</p>
          <p>신규 매수수량 <input id="addstocks" type="text"> 주</p>
          <button class="btn btn-dark" onclick="calstocks()">계산하기</button>
          <p><b>총 보유수량: <span id="cal_stocks"></span> 주</b></p>
          <p><b>평단가: <span id="cal_result"></span> 원</b></p>
        </td>
      </tr>
    </tbody>
  </table>

  <script>
    function calstocks() {
      const stock_price = parseFloat(document.getElementById('stock_price').value);
      const stocks = parseInt(document.getElementById('stocks').value);
      const addprice = parseFloat(document.getElementById('addprice').value);
      const addstocks = parseInt(document.getElementById('addstocks').value);

      if (isNaN(stock_price) || isNaN(stocks) || isNaN(addprice) || isNaN(addstocks)) {
        alert("모든 입력란에 숫자를 정확히 입력해주세요.");
        return;
      }

      const totalStocks = stocks + addstocks;
      const avgPrice = ((stock_price * stocks) + (addprice * addstocks)) / totalStocks;

      document.getElementById('cal_stocks').innerText = totalStocks;
      document.getElementById('cal_result').innerText = avgPrice.toFixed(2);
    }

    function convert() {
      // 추후 환율 계산기 기능 구현 가능
    }

    function reconvert() {
      // 추후 역변환 기능 구현 가능
    }
  </script>
</body>
</html>
-
